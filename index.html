<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TransForge™ - Login</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="assets/css/main.css">
  <script src="assets/js/auth.js" defer></script>
</head>
<body>
  <!-- Login Page -->
  <div id="loginPage" class="login-container">
    <div class="login-left">
      <div class="login-hero">
        <h1>TransForge™</h1>
        <p>Professional Transport & Forwarding Management</p>
        <div class="features-grid">
          <div><i class="fas fa-truck"></i> Driver & Vehicle Mgmt</div>
          <div><i class="fas fa-file-invoice"></i> Tenders & Invoices</div>
          <div><i class="fas fa-chart-bar"></i> Real-time Reports</div>
          <div><i class="fas fa-comments"></i> Team Chat</div>
        </div>
      </div>
    </div>
    <div class="login-right">
      <div class="login-form">
        <h2><i class="fas fa-sign-in-alt"></i> Sign In</h2>
        <form id="loginForm">
          <div class="form-group">
            <label>Email</label>
            <input type="email" id="loginEmail" required>
          </div>
          <div class="form-group">
            <label>Password</label>
            <input type="password" id="loginPassword" required>
          </div>
          <button type="submit" class="btn btn-primary">Sign In</button>
          <p>Don’t have an account? <a href="#" id="showRegister">Register</a></p>
        </form>
      </div>
    </div>
  </div>

  <!-- Register Page -->
  <div id="registerPage" class="login-container" style="display:none;">
    <div class="login-left">
      <div class="login-hero">
        <h1>Start Your Journey</h1>
        <p>Create your company account and begin managing your fleet.</p>
        <div class="features-grid">
          <div><i class="fas fa-users"></i> Team Collaboration</div>
          <div><i class="fas fa-cloud"></i> Cloud Storage (GitHub)</div>
          <div><i class="fas fa-sync-alt"></i> Real-time Sync</div>
        </div>
      </div>
    </div>
    <div class="login-right">
      <div class="login-form">
        <h2><i class="fas fa-user-plus"></i> Create Account</h2>
        <form id="registerForm">
          <div class="form-group">
            <label>Company Name</label>
            <input type="text" id="regCompanyName" required>
          </div>
          <div class="form-group">
            <label>Email</label>
            <input type="email" id="regEmail" required>
          </div>
          <div class="form-group">
            <label>Password</label>
            <input type="password" id="regPassword" required>
          </div>
          <div class="form-group">
            <label>Confirm Password</label>
            <input type="password" id="regConfirmPassword" required>
          </div>
          <button type="submit" class="btn btn-primary">Next → GitHub Setup</button>
          <p>Already have an account? <a href="#" id="backToLogin">Back to Login</a></p>
        </form>
      </div>
    </div>
  </div>

  <!-- GitHub Setup Page -->
  <div id="githubSetupPage" class="login-container" style="display:none;">
    <div class="login-left">
      <div class="login-hero">
        <h1>Connect to GitHub</h1>
        <p>Securely store your company data in a private repository.</p>
        <div style="text-align:center;margin-top:2rem;">
          <i class="fab fa-github fa-5x"></i>
        </div>
      </div>
    </div>
    <div class="login-right">
      <div class="github-setup">
        <h2><i class="fab fa-github"></i> GitHub Setup</h2>
        <div class="github-steps">
          <div class="github-step">
            <div class="step-number">1</div>
            <div>
              <h3>Create GitHub Account</h3>
              <p><a href="https://github.com/join" target="_blank">Sign up for GitHub</a> if you don't have an account.</p>
            </div>
          </div>
          <div class="github-step">
            <div class="step-number">2</div>
            <div>
              <h3>Generate Access Token</h3>
              <p>Go to <strong>Settings → Developer Settings → Personal Access Tokens → Generate New Token</strong></p>
              <p>Select <code>repo</code> permissions.</p>
              <button class="btn btn-secondary" onclick="openTokenGuide()">
                <i class="fas fa-book"></i> How to Create Token
              </button>
            </div>
          </div>
          <div class="github-step">
            <div class="step-number">3</div>
            <div>
              <h3>Paste Token & Repository Name</h3>
              <div class="form-group">
                <label>GitHub Personal Access Token</label>
                <input type="text" id="githubToken" placeholder="Paste token here" required>
              </div>
              <div class="form-group">
                <label>Repository Name</label>
                <input type="text" id="repoName" placeholder="transforge-company-data" value="transforge-company-data" required>
                <small>Will be created as private</small>
              </div>
            </div>
          </div>
        </div>
        <button id="setupGitHubBtn" class="btn btn-primary">
          <i class="fab fa-github"></i> Connect & Initialize Repository
        </button>
        <p style="text-align:center;margin-top:1rem;">
          <a href="#" id="skipForNow">Skip for now (use local storage)</a>
        </p>
      </div>
    </div>
  </div>
</body>
</html>
